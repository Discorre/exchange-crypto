# Exchange-Crypto

Exchange-Crypto - это API для криптовалютной биржи, разработанное на Go. Этот проект предоставляет основные функции для работы с криптовалютными парами, управления пользователями, балансами и ордерами.

## Возможности

1. Управление пользователями
   - Создание новых пользователей

2. Работа с криптовалютными парами
   - Получение списка доступных пар

3. Управление ордерами
   - Создание ордеров на покупку и продажу
   - Получение списка активных ордеров
   - Удаление ордеров

4. Управление балансом
   - Просмотр баланса пользователя

5. Информация о лотах
   - Получение информации о доступных лотах

## API Endpoints

- POST `/user` - Создание нового пользователя
- GET `/lot` - Получение информации о лотах
- GET `/pair` - Получение информации о парах
- POST `/order` - Создание нового ордера
- GET `/order` - Получение списка ордеров
- DELETE `/order` - Удаление ордера
- GET `/balance` - Получение баланса пользователя

## Зависимости

Перед запуском проекта убедитесь, что у вас установлены следующие зависимости:

1. Go (версия 1.16 или выше)
2. Docker
3. Docker Compose

Для установки Go:
- Посетите официальный сайт Go (https://golang.org/dl/) и следуйте инструкциям по установке для вашей операционной системы.

Для установки Docker и Docker Compose:
- Docker: https://docs.docker.com/get-docker/
- Docker Compose: https://docs.docker.com/compose/install/


## Запуск проекта

1. Убедитесь, что у вас установлен Go.
2. Клонируйте репозиторий:
   ```
   git clone https://github.com/Discorre/exchange-crypto.git
   ```
3. Перейдите в директорию проекта:
   ```
   cd exchange-crypto
   ```
4. Запустите API и базу данных:
   ```
   docker-compose up --build
   ```

Сервер будет запущен на `http://localhost:8080`.

## Тестирование

В проекте есть Postman-коллекция для тестирования API. Чтобы начать использовать эту коллекцию, выполните следующие шаги:

1. Убедитесь, что у вас установлен Postman. Если нет, скачайте его с [официального сайта](https://www.postman.com/downloads/).

2. Откройте Postman.

3. В верхнем левом углу нажмите на кнопку "Import".

4. В открывшемся окне выберите вкладку "File" и нажмите "Upload Files".

5. Найдите и выберите файл `exchange-crypto.json` в папке `postman-collection` директории проекта.

6. Нажмите "Import" для завершения процесса.

После импорта вы увидите новую коллекцию "Exchange-Crypto" в левой панели Postman. Эта коллекция содержит предварительно настроенные запросы для всех эндпоинтов API, что позволяет быстро начать тестирование.

Для выполнения запросов:

1. Выберите нужный запрос из коллекции.
2. Убедитесь, что сервер запущен на `http://localhost:8080`.
3. Нажмите кнопку "Send" для отправки запроса.

Примечание: Некоторые запросы могут требовать аутентификации или дополнительных параметров. Убедитесь, что вы правильно настроили эти параметры перед отправкой запроса.

## Примеры запросов с использованием curl

Вот несколько примеров, как вы можете использовать curl для взаимодействия с API:

1. Создание нового пользователя:
```bash
curl -X POST http://localhost:8080/user \
-H "Content-Type: application/json" \
-d '{
        "username":"newuser"
    }'
```

2. Получение информации о лотах:
```bash
curl -X GET http://localhost:8080/lot
```

3. Получение информации о парах:
```bash
curl -X GET http://localhost:8080/pair
```

4. Создание нового ордера:
```bash
curl -X POST http://localhost:8080/order \
-H "Content-Type: application/json" \
-H "X-USER-KEY: 1956be07-63d3-4569-80f0-2d630fd0c02a" \
-d '{
    "pair_id": 3,
    "quantity": 100,
    "price": 10,
    "type": "sell"
}'
```

5. Получение списка ордеров:
```bash
curl -X GET http://localhost:8080/order
```

6. Удаление ордера:
```bash
curl -X DELETE http://localhost:8080/order -H "Content-Type: application/json" -d '{"order_id":1}'
```

7. Получение баланса пользователя:
```bash
curl -X GET http://localhost:8080/balance -H "Content-Type: application/json", 
```
